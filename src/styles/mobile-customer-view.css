/* Mobile Customer View - Responsive 2-Column Grid */

/* Base mobile styles */
.mobile-customer-view {
  @apply min-h-screen bg-gray-50/50 pb-20;
}

/* Enhanced 2-column grid for mobile */
.mobile-product-grid {
  @apply grid gap-3 px-3 pb-6;
  grid-template-columns: repeat(2, 1fr);
}

/* Ensure consistent card heights */
.mobile-product-grid > * {
  @apply flex flex-col h-full;
}

/* Touch-friendly tap targets */
.mobile-product-card {
  @apply relative flex flex-col w-full bg-white rounded-xl overflow-hidden border transition-all;
  min-height: 200px; /* Minimum touch target height */
  touch-action: manipulation;
}

.mobile-product-card:active {
  @apply scale-[0.98];
}

/* Image container with consistent aspect ratio */
.mobile-product-image {
  @apply relative w-full aspect-square bg-gray-50 p-2 flex items-center justify-center overflow-hidden;
}

/* Touch-friendly buttons */
.mobile-touch-button {
  @apply min-w-[44px] min-h-[44px]; /* iOS minimum touch target size */
  @apply flex items-center justify-center;
  @apply rounded-full transition-all active:scale-95;
  touch-action: manipulation;
}

/* Enhanced spacing for mobile */
.mobile-card-content {
  @apply flex flex-col p-2 gap-1 flex-grow;
}

/* Text optimization for mobile */
.mobile-product-title {
  @apply font-bold text-gray-900 leading-tight;
  font-size: 13px; /* Optimized for mobile readability */
  line-height: 1.3;
  @apply line-clamp-2;
  min-height: 2.6em; /* Consistent height for 2 lines */
}

.mobile-product-unit {
  @apply text-[10px] sm:text-xs text-gray-500 font-medium;
}

.mobile-product-price {
  @apply text-base sm:text-lg font-extrabold text-primary;
}

/* Enhanced button sizing for mobile */
.mobile-add-button {
  @apply mobile-touch-button;
  @apply h-8 w-8 bg-primary hover:bg-primary/90 text-white shadow-md;
}

.mobile-quantity-control {
  @apply flex items-center bg-white border border-primary/20 rounded-full shadow-sm h-8 overflow-hidden;
}

.mobile-quantity-button {
  @apply mobile-touch-button w-8 h-full;
  @apply text-primary hover:bg-primary/5 active:bg-primary/10;
}

.mobile-quantity-text {
  @apply min-w-[20px] text-center text-xs sm:text-sm font-bold text-gray-900;
}

/* Search and filter optimization */
.mobile-search-container {
  @apply relative flex-1;
}

.mobile-search-input {
  @apply pl-8 bg-gray-100/50 border-gray-200 rounded-xl h-10 focus-visible:ring-primary focus-visible:border-primary/50;
  @apply text-sm transition-all;
}

.mobile-filter-button {
  @apply mobile-touch-button p-2.5;
  @apply rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 active:scale-95;
  @apply border border-gray-200 transition-all;
}

/* Category pills optimization */
.mobile-category-pills {
  @apply flex gap-1.5 overflow-x-auto no-scrollbar;
  @apply -mx-3 px-3 pb-1.5 pt-0.5;
}

.mobile-category-pill {
  @apply px-3 py-1.5 rounded-full font-bold text-xs transition-all border;
  @apply flex items-center gap-1 shrink-0;
  touch-action: manipulation;
}

.mobile-category-pill-active {
  @apply bg-primary text-white border-primary shadow-sm;
}

.mobile-category-pill-inactive {
  @apply bg-white text-gray-600 border-gray-200 hover:bg-gray-50;
}

/* Load more button optimization */
.mobile-load-more {
  @apply min-w-[120px] rounded-full shadow-sm text-sm;
  @apply px-4 py-2 transition-all active:scale-95;
}

/* Scroll performance optimization */
.mobile-scroll-container {
  @apply overflow-x-auto no-scrollbar;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch; /* Momentum scrolling for iOS */
}

/* Responsive breakpoints */
@media (max-width: 768px) {
  .mobile-customer-view {
    @apply pb-16; /* Reduced bottom padding for smaller screens */
  }
  
  .mobile-product-grid {
    @apply gap-2 px-2; /* Tighter spacing on very small screens */
  }
  
  .mobile-product-card {
    @apply rounded-lg; /* Slightly less rounded on small screens */
  }
  
  .mobile-product-title {
    font-size: 12px; /* Smaller text for very small screens */
  }
}

@media (min-width: 769px) {
  .mobile-product-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }
}

/* High DPI display optimization */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .mobile-product-title {
    -webkit-font-smoothing: antialiased;
    font-weight: 600; /* Slightly lighter for high DPI */
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .mobile-product-card {
    @apply bg-gray-800 border-gray-700;
  }
  
  .mobile-product-title {
    @apply text-gray-100;
  }
  
  .mobile-product-unit {
    @apply text-gray-400;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .mobile-product-card,
  .mobile-touch-button,
  .mobile-filter-button,
  .mobile-category-pill,
  .mobile-load-more {
    @apply transition-none;
  }
}

/* Landscape orientation optimization */
@media (max-height: 500px) and (orientation: landscape) {
  .mobile-product-grid {
    grid-template-columns: repeat(3, 1fr); /* 3 columns in landscape */
    @apply gap-2;
  }
  
  .mobile-product-title {
    font-size: 11px;
    min-height: 2.2em;
  }
}

/* Safe area support for modern phones */
@supports (padding: max(0px)) {
  .mobile-customer-view {
    padding-bottom: max(20px, env(safe-area-inset-bottom));
  }
  
  .mobile-product-grid {
    padding-left: max(12px, env(safe-area-inset-left));
    padding-right: max(12px, env(safe-area-inset-right));
  }
}